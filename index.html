<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>L10n by bvanderlaan</title>
    <link rel="stylesheet" href="/L10n/assets/css/style.css?v=d502c54c627846836c7bba296a5ee953c04d6a13">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  </head>
  <body>
    <header>
      <h1>L10n</h1>
      <p>
        L10n (pronounced <em>Lion</em>) is an on premises web application that allows you to store and search for known
        good string translations that you organization has already translated.
      </p>
    </header>
    <div id="banner">
      <span id="logo"></span>
      <a href="https://github.com/bvanderlaan/L10n" class="button fork"><strong>View On GitHub</strong></a>
      <div class="downloads">
        <span>Downloads:</span>
        <ul>
          <li><a href="https://github.com/bvanderlaan/L10n/zipball/master" class="button">ZIP</a></li>
          <li><a href="https://github.com/bvanderlaan/L10n/tarball/master" class="button">TAR</a></li>
        </ul>
      </div>
    </div>
    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <img src="assets/images/l10n-logo.png" alt="L10n" class="center-block" />
        <p>
          L10n allows you to search for and input phrases that have known good translations in multiple other languages
          so you can save the turn around time of getting phrases translated and vetted by reusing pre-translated and
          vetted phrases your organization has already used.
        </p>
        <p>
          When inputting new phrases
          you provide the local language version of the phrase (in my case English) and a comment explaining
          the context of the phrase, something that explains the usage of the phrase to help translators
          choose which version of a word to use. Then once you have translations which you know are good
          for your context and the target language you can add the translations of the phrase. You can add
          one translated form of a phrase per target language; Not all phrases need to be translated into
          each target langauge and you can add or update translations at any time.
        </p>

        <h2 id="whyl10n">Why L10n?</h2>
        <p>
          Lets say you create an application, or documentation for that matter, which will be used in
          multiple region and therefore you choose to localize the text so that your users who read other
          languages will have an easier time using your application. You probably contract out the translations
          to a firm; the process is generally to scrape out all the phrases you need translated with context
          comments, ship them over to the translators, wait, then insert the now translated strings into
          your application via whatever localization framework your using. L10n is here to address the waiting
          part of that process.
        </p>
        <p>
          If you have multiple applications all being translated into the same
          languages you will probably start to have some overlapping phrases. If your translation firm is
          good they probably have a phrase map so they won't charge you extra to re-translate phrases you
          already had them translate (although they will probably charge to you context check them) however
          you will still have to wait for them to get back to you which can be anywhere from a few days to
          a couple weeks depending on their throughput, contract agreement, and number of phrases needing to
          be translated. If the bulk of the phrases are already known wouldn't it be nice if you could just
          look them up in a local database?
        </p>
        <p>
          With L10n you can input all the phrases which you have already gotten translated and have
          checked internally to make sure they are good for your context into a searchable database so that
          future projects can look up known good pre-translated
          phrase which they could use to avoid the turn around times.
        </p>
        <p>
          If one project has already
          waited the days/weeks to get a set of phrases translated and some of those phrases are words
          like "Save" or "Delete" as used in a file header bar or "Ok" and "Cancel" as used on a prompt then
          they could via L10n's web user interface add the phrases to L10n's database complete with context
          comments (i.e. "Cancel" - "Text used in a button on a prompt meant to terminate an operation")
          then future projects who are adding a file header bar or confirmation prompts could look up
          those phrases via L10n's web user interface and find all the known good translations for those
          phrase thus saving them the turn around time to get them retranslated and revetted by the
          translation firm.
        </p>

        <h2 id="whatyouget">What you get with L10n</h2>
        <p>When you setup a L10n server you get a database and an easy to use web based interface.</p>

        <h2 id="docker">L10n on Docker</h2>
        <p>
          There is a Docker image for L10n which allows you to spin up a L10n application quickly and easily.
          You can even use <code>docker-compose</code> to build a virtual network with a MySQL backend and a
          L10n front end running on different container.
        </p>
        <p>
          The Docker-ized version of L10n only requires the setting of a few environment variables When
          starting up the container.
        </p>
        <h3>Example of Docker command</h3>
        <div class="highlighter-rouge">
          <pre class="highlight">
            <code>
docker run -e SECRET_KEY_BASE=***** -e L10N_DATABASE=l10n_production -e L10N_DATABASE_USER=l10nadmin -e L10N_DATABASE_PASSWORD=**** -e DATABASE_URL=mysql2://l10ndbserver.local:3306/l10n_production l10n:latest
            </code>
          </pre>
        </div>
        <h3>Example of Docker-Compose script</h3>
        <p>
          The above command still looks large but like I said you can use <code>docker-compose</code> to script it.
        </p>
        <div class="highlighter-rouge">
          <pre class="highlight">
            <code>
version: '2'
services:
  web:
      container_name: l10n
      image: l10n:latest
      environment:
          - SECRET_KEY_BASE=mySuperSecretKeyThatYouCanNeverGuess
          - L10N_DATABASE=l10n_production
          - L10N_DATABASE_USER=l10nadmin
          - L10N_DATABASE_PASSWORD=myl10npassword
          - DATABASE_URL=mysql2://l10ndb:3306/l10n_production
      ports:
          - "8080:3000" # Expose L10n's WUI on http://localhost:8080
      links:
          - db:l10ndb # Setup virtual network between this container and l10ndb
      command: bash -c "rake db:migrate && rake db:seed && rails s -p 3000 -b '0.0.0.0'"
      restart: always # If the container crashes restart it
  db:
      container_name: l10ndb
      image: mysql:5.7.12 # Offical MySQL Image
      environment:
          - MYSQL_ROOT_PASSWORD=myrootpassword
          - MYSQL_PASSWORD=myl10npassword # Same as L10N_DATABASE_PASSWORD
          - MYSQL_USER=l10admin # Same as L10N_DATABASE_USER
          - MYSQL_DATABASE=l10n_production # Same as L10N_DATABASE
      volumes:
          - /mnt/DB/l10ndb:/var/lib/mysql # This saves the database files to the host so you can destroy the l10ndb container and not loose data
      command: [mysqld, --character-set-server=utf8mb4, --collation-server=utf8mb4_unicode_ci] # These flags add unicode support for languages such as Japanese and Russian
      restart: always # If the container crashes restart it
            </code>
          </pre>
        </div>
        <p>
          For more infromation on how to use the Docker image to setup a L10n server see
          <a href="https://github.com/bvanderlaan/L10n-Docker">L10n-Docker</a>.
        </p>

        <h2 id="installation">Manual Installation of L10n</h2>
        <p>
          L10n is a Ruby-on-Rails app which by default connects to a MySQL database. You can configure L10n to use a
          different SQL database if you so choose by updating the <a href="https://github.com/bvanderlaan/L10n/blob/master/config/database.yml">config/database.yml</a> file.
        </p>
        <p>
          To install L10n from scratch you will need to have <a href="http://rubyonrails.org/">Ruby-on-Rails 4</a> and
          the <a href="http://bundler.io/">Bundler gem</a> installed. You will also need to install MySQL, or whichever
          SQL database you plan to use for L10n. The SQL database can be on the same server as L10n or hosted on a
          different server which L10n will be able to connect to. Once installed perform the following:
        </p>
        <ol>
          <li>
            <p>
              Clone the repository.<br />
              <code class="highlighter-rouge">git clone https://github.com/bvanderlaan/L10n.git</code>
            </p>
          </li>
          <li>
            <p>
              Navigate into the repositories root folder.<br />
              <code class="highlighter-rouge">cd L10n</code>
            </p>
          </li>
          <li>
            <p>
              Checkout which version of L10n you want. To use the latest and greatest yet unreleased version use the <code>master</code> branch.<br />
              <code class="highlighter-rouge">git checkout v1.0.0</code>
            </p>
          </li>
          <li>
            <p>
              Install the required gems via bundler<br />
              <code class="highlighter-rouge">$ bundle install</code>
            </p>
          </li>
        </ol>
        <p>
          By default L10n is setup to use MySQL (See
          <a href="https://github.com/bvanderlaan/L10n/blob/master/config/database.yml">config/database.yml</a>).
          The next steps is to setup a database on your MySQL server for L10n to use.
        </p>
        <ol>
          <li value="4">
            <p>Log into your MySQL server as a root user.</p>

            <div class="highlighter-rouge">
              <pre class="highlight">
                <code>
$ mysql -u root -p
Enter password: *&lt;your root password&gt;*
                </code>
              </pre>
            </div>
          </li>
          <li>
            <p>
              Now grant privileges to the user that L10n will use to interact with the database.
              The user L10n will use is defiend in
              <a href="https://github.com/bvanderlaan/L10n/blob/master/config/database.yml">config/database.yml</a>.
              The default user name is <em>l10n</em> and the default production database is called <em>l10n_production</em>.
            </p>
            <div class="highlighter-rouge">
              <pre class="highlight">
                <code>
mysql&gt; grant all privileges on l10n_production.*
        -&gt; to 'l10n'@'localhost'
        -&gt; identified by '*&lt;your l10n user password&gt;*';
                </code>
              </pre>
            </div>

            <p>At this point you can log out of mysql (remember your logged in as the root user) and log back in as the <em>l10n</em> user.</p>

            <div class="highlighter-rouge">
              <pre class="highlight">
                <code>
mysql&gt; exit;
$ mysql -u l10n -p
Enter password: *&lt;your l10n password&gt;*
                </code>
              </pre>
            </div>

            <p>Alright you've proven that your database is ready to go. You can log out of mysql now if you like.</p>
          </li>
          <li>
            <p>
              Back in a terminal you can now create and populate the database with the required tables and entries using <em>Rake</em>
              (Rake is a tool which comes with Ruby-on-Rails).<br />
              <code class="highlighter-rouge">$ RAILS_ENV=production rake db:setup</code>
            </p>
          </li>
          <li>
            <p>
              Next you need to pre-compile the static assets.
              Rails has an asset pipeline which allows you to use languages like TypeScript and SASS, languages which
              are nicer to develop in but web browsers don't understand, then transplie them into JavaScript and CSS when
              you release. In Development mode these assets are transpiled on the fly which is nice for develpoment but
              you do take a performance hit. In production mode, the mode we have been setting L10n up to run in, we
              want to transplie these assets once since they won't change.
            </p>
            <p>
              This is a must step as this one time transpiling will place the assets in a different directory, a directory
              L10n will look for in production mode that differs then when run in Develpoment mode. The point, if you don't
              do this L10n won't be able to find the CSS, JavaScript, and Image files.
            </p>
            <p>
              Luckally Rails has a tool to make this easy.<br/>
              Back in a terminal execute the following <em>Rake</em> command.</br>
              <code class="highlighter-rouge">$ RAILS_ENV=production rake assets:precompile</code>
            </p>
          </li>
          <li>
            <p>
              Lastly you can now start up the Rails server. There is no need to install a web server because Rails
              applications are self hosting via an in memory web server which comes with Rails. Simply execute the following
              command to start the L10n application.<br />
              <div class="highlighter-rouge">
                <pre class="highlight">
                  <code>
$ RAILS_ENV=production RAILS_SERVE_STATIC_FILES true SECRET_KEY_BASE=auniquesecretkeyusedtoverifysecuredcookies DATABASE_URL=mysql2://yoursqlserver.local:3306/l10n_production rails server -p 3000 -b '0.0.0.0'
                  </code>
                </pre>
              </div>
            </p>
            <p>
              L10n's default port (per Rails convension) is 3000 but you can change it via the <em>-p</em> arguemnt seen above.
            </p>
            <p>
              The environment variables you set at the beginning of the above command get passed into the L10n app
              which helps it to start up correctly.
              <ul>
                <li><strong>RAILS_ENV</strong> - This tells L10n (or rather Rails) to start up in the Production environment.</li>
                <li><strong>RAILS_SERVE_STATIC_FILES</strong> - This tells L10n (or rather Rails) that you have pre-compiled your static assets.</li>
                <li><strong>SECRET_KEY_BASE</strong> - L10n will use this 128 character key to verify the integrity of signed cookies. You can type in any key here you want or you can use <code>rake secret</code> to generate one. Its a secret though so Shhhh</li>
                <li><strong>DATABASE_URL</strong> - This is the url L10n will use to connect to the database. Example: <code>mysql2://mysqlserver.local/somedatabase</code></li>
              </ul>

              There you go, now if you navigate to http://localhost:3000, or which ever port you used, on the server running
              L10n you should see the L10n home page.
            </p>
          </li>
        </ol>

        <h2 id="contributing">Contributing</h2>
        <p>
            Bug reports and pull requests are welcome on GitHub at <a href="https://github.com/bvanderlaan/L10n">https://github.com/bvanderlaan/L10n</a>. This project is intended to be a safe, welcoming space for collaboration,
            and contributors are expected to adhere to the <a href="http://contributor-covenant.org">Contributor Covenant</a> code of conduct.
        </p>

        <h2 id="license">License</h2>
        <p>The application is available as open source under the terms of the <a href="https://opensource.org/licenses/Apache-2.0">Apache License, version 2.0</a>.</p>
      </section>
      <footer>
        <p><a href="https://github.com/bvanderlaan/L10n">L10n</a> is maintained by <a href="https://github.com/bvanderlaan">Brad van der Laan</a></p>
        <p><small>This page was originally generated by <a href="https://pages.github.com/">GitHub Pages</a> using the Leap Day theme by <a href="https://twitter.com/michigangraham">mattgraham</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="/L10n/assets/js/main.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </body>
</html>
